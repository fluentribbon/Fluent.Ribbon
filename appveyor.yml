# http://www.appveyor.com/docs/appveyor-yml

version: 3.5.1.{build}
configuration: Release

# Install scripts. (runs after repo cloning)
install:
  - nuget restore

build:
  verbosity: minimal

after_build:
  - cmd: Tools\GitLink.exe . -u https://github.com/fluentribbon/Fluent.Ribbon
  - cmd: nuget pack Fluent.Ribbon.nuspec -Version %appveyor_build_version% -Properties Configuration=%configuration%
  - ps: Get-ChildItem .\*.nupkg | % { Push-AppveyorArtifact $_.FullName -FileName $_.Name }

assembly_info:
  patch: true
  file: Shared\GlobalAssemblyInfo.*
  assembly_version: "{version}"
  assembly_file_version: "{version}"
  assembly_informational_version: "{version}"

artifacts:
  - path: build/bin
    name: Fluent.Ribbon.$(appveyor_build_version)
    type: zip